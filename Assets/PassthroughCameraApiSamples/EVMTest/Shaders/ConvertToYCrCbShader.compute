#pragma kernel CSMain

// Input and output textures
Texture2D<float4> InputTexture;
RWTexture2D<float4> OutputTexture;

[numthreads(8, 8, 1)]
void CSMain (uint3 id : SV_DispatchThreadID)
{
    float4 color = InputTexture[id.xy];

    // Convert RGB to YCrCb
    float Y = 0.299 * color.r + 0.587 * color.g + 0.114 * color.b;
    float Cr = (color.r - Y) * 0.713;
    float Cb = (color.b - Y) * 0.564;

    OutputTexture[id.xy] = float4(Y, Cr, Cb, 1.0);
}